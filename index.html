<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LFHC Visitor Center - YouTube Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #6FB03B 0%, #8BC34A 50%, #9CCC65 100%); color: white; overflow: hidden; }
        .header { text-align: center; padding: 20px 20px 15px; background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(10px); }
        .logo-container { display: inline-flex; align-items: center; gap: 15px; background: white; padding: 15px 25px; border-radius: 12px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); }
        .logo-heart { width: 50px; height: 50px; }
        .logo-text { text-align: left; }
        .logo-lao { font-size: 11px; color: #333; margin: 0; line-height: 1.2; }
        .logo-en { font-size: 14px; color: #333; font-weight: 600; margin: 0; letter-spacing: 0.5px; }
        .header h1 { font-size: 2.5rem; font-weight: 400; letter-spacing: 1px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); margin-bottom: 5px; }
        .header p { font-size: 1.2rem; opacity: 0.95; font-weight: 300; }
        .menu-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; padding: 40px 50px 50px; max-width: 1400px; margin: 0 auto; height: calc(100vh - 220px); }
        .tile { position: relative; border-radius: 20px; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); border: none; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); overflow: hidden; background-size: cover; background-position: center center; background-repeat: no-repeat; }
        .tile::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, rgba(111, 176, 59, 0.85) 0%, rgba(139, 195, 74, 0.75) 100%); transition: all 0.4s ease; z-index: 1; }
        .tile:hover::before { opacity: 0.3; }
        .tile:hover { transform: translateY(-15px) scale(1.05); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4); }
        .tile-content { position: relative; z-index: 2; text-align: center; transition: opacity 0.3s ease; }
        .tile:hover .tile-content { opacity: 0; }
        .tile-icon { font-size: 4rem; margin-bottom: 20px; text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3); filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.3)); }
        .tile-title { font-size: 1.4rem; font-weight: 500; line-height: 1.4; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
        .video-container { display: none; position: fixed !important; top: 0 !important; left: 0 !important; width: 100vw !important; height: 100vh !important; background: #000 !important; z-index: 999999 !important; }
        .video-container.active { display: block !important; }
        .video-wrapper { width: 100% !important; height: 100% !important; position: absolute !important; top: 0 !important; left: 0 !important; }
        .video-wrapper iframe { width: 100% !important; height: 100% !important; border: none !important; position: absolute !important; top: 0 !important; left: 0 !important; }
        
        /* BLOQUEURS YOUTUBE - Couvrent tous les boutons */
        .youtube-blockers { 
            position: absolute !important; 
            top: 0 !important; 
            left: 0 !important; 
            width: 100% !important; 
            height: 100% !important; 
            z-index: 9999998 !important; 
            pointer-events: none !important; 
        }
        
        /* Bloque TOUT LE COIN BAS DROIT (Logo YouTube + Info) */
        .block-bottom-right {
            position: absolute !important;
            bottom: 0 !important;
            right: 0 !important;
            width: 350px !important;
            height: 120px !important;
            z-index: 9999998 !important;
            pointer-events: auto !important;
            cursor: default !important;
        }
        
        /* Bloque TOUT LE COIN HAUT DROIT (Partager + boutons) */
        .block-top-right {
            position: absolute !important;
            top: 0 !important;
            right: 0 !important;
            width: 300px !important;
            height: 100px !important;
            z-index: 9999998 !important;
            pointer-events: auto !important;
            cursor: default !important;
        }
        
        /* Bloque TOUTE LA BARRE DU HAUT */
        .block-top-bar {
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            right: 300px !important;
            height: 60px !important;
            z-index: 9999998 !important;
            pointer-events: auto !important;
            cursor: default !important;
        }
        
        /* Bloque TOUTE LA BARRE DU BAS à gauche */
        .block-bottom-left {
            position: absolute !important;
            bottom: 0 !important;
            left: 0 !important;
            width: 300px !important;
            height: 100px !important;
            z-index: 9999998 !important;
            pointer-events: auto !important;
            cursor: default !important;
        }
        
        /* Zone centrale pour permettre play/pause */
        .allow-center-click {
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            width: 50% !important;
            height: 50% !important;
            z-index: 9999997 !important;
            pointer-events: auto !important;
        }
        
        .back-button { position: fixed !important; top: 30px; left: 30px; background: rgba(111, 176, 59, 0.95); border: 2px solid white; color: white; padding: 15px 35px; font-size: 1.2rem; font-weight: 500; border-radius: 50px; cursor: pointer; transition: opacity 0.3s ease; z-index: 9999999 !important; font-family: 'Poppins', sans-serif; opacity: 1; }
        .back-button.hidden { opacity: 0; pointer-events: auto; }
        .back-button:hover { background: rgba(139, 195, 74, 1); transform: scale(1.08); }
        .play-overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 80px; height: 80px; background: rgba(255, 255, 255, 0.95); border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease; z-index: 3; pointer-events: none; }
        .tile:hover .play-overlay { opacity: 1; }
        .play-icon { width: 0; height: 0; border-left: 25px solid #6FB03B; border-top: 15px solid transparent; border-bottom: 15px solid transparent; margin-left: 8px; }
        @media (max-width: 1200px) { .menu-container { grid-template-columns: repeat(2, 1fr); } }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <img src="https://images.squarespace-cdn.com/content/v1/6059e881e22c8042fb31c88f/1617460128427-P4LWJQ12JUQ0WMEITJ69/FWAB_Heart.png" alt="LFHC Heart" class="logo-heart">
            <div class="logo-text">
                <p class="logo-lao">ໂຮງໝໍເດັກລາວອາມິດພື້ນເມືອງລາວ</p>
                <p class="logo-en">LAO FRIENDS HOSPITAL FOR CHILDREN</p>
            </div>
        </div>
        <h1>Visitor Center - YouTube Test</h1>
        <p>Choose a video to learn more</p>
    </div>
    <div class="menu-container" id="mainMenu"></div>
    <div class="video-container" id="videoContainer">
        <button class="back-button" id="backButton" onclick="closeVideo()"><i class="fas fa-arrow-left"></i> Back to Menu</button>
        <div class="video-wrapper" id="videoPlayer"></div>
        
        <!-- OVERLAYS DE PROTECTION POUR YOUTUBE -->
        <div class="youtube-blockers">
            <div class="block-bottom-right"></div>
            <div class="block-top-right"></div>
            <div class="block-top-bar"></div>
            <div class="block-bottom-left"></div>
        </div>
        
        <!-- Zone centrale pour play/pause -->
        <div class="allow-center-click" onclick="togglePlayPause()"></div>
    </div>
    
    <!-- YouTube IFrame Player API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <script>
        // VIDEOS YOUTUBE TEST (vidéos éducatives/médicales publiques)
        const videoCategories = [
            { title: "Discover LFHC", icon: "fa-solid fa-hospital", youtubeId: "dQw4w9WgXcQ" }, // Test 1
            { title: "Family Testimonials", icon: "fa-solid fa-heart", youtubeId: "9bZkp7q19f0" }, // Test 2
            { title: "Our Medical Team", icon: "fa-solid fa-user-doctor", youtubeId: "jNQXAC9IVRw" }, // Test 3
            { title: "Prevention & Education", icon: "fa-solid fa-book-medical", youtubeId: "yPYZpwSpKmA" }, // Test 4
            { title: "Our Programs", icon: "fa-solid fa-star", youtubeId: "kJQP7kiw5Fk" }, // Test 5
            { title: "Partners & Support", icon: "fa-solid fa-handshake", youtubeId: "ZZ5LpwO-An4" } // Test 6
        ];
        
        let buttonFadeTimer, currentPlayer = null;
        const FADE_DELAY = 3000;
        let playerReady = false;
        
        // YouTube Player API ready callback
        function onYouTubeIframeAPIReady() {
            playerReady = true;
            console.log('YouTube API Ready');
        }
        
        function generateTiles() {
            const container = document.getElementById('mainMenu');
            videoCategories.forEach((cat, i) => {
                const tile = document.createElement('div');
                tile.className = 'tile';
                tile.onclick = () => playVideo(i);
                // Thumbnail YouTube
                tile.style.backgroundImage = `url('https://img.youtube.com/vi/${cat.youtubeId}/maxresdefault.jpg')`;
                tile.innerHTML = `<div class="tile-content"><div class="tile-icon"><i class="${cat.icon}"></i></div><div class="tile-title">${cat.title}</div></div><div class="play-overlay"><div class="play-icon"></div></div>`;
                container.appendChild(tile);
            });
        }
        
        function showBackButton() {
            const btn = document.getElementById('backButton');
            btn.classList.remove('hidden');
            clearTimeout(buttonFadeTimer);
            buttonFadeTimer = setTimeout(() => {
                btn.classList.add('hidden');
            }, FADE_DELAY);
        }
        
        function togglePlayPause() {
            if (currentPlayer) {
                const state = currentPlayer.getPlayerState();
                if (state === 1) { // Playing
                    currentPlayer.pauseVideo();
                } else {
                    currentPlayer.playVideo();
                }
            }
        }
        
        function playVideo(index) {
            const container = document.getElementById('videoContainer');
            const player = document.getElementById('videoPlayer');
            const youtubeId = videoCategories[index].youtubeId;
            
            // Create YouTube player div
            player.innerHTML = '<div id="youtube-player"></div>';
            container.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Initialize YouTube player with autoplay
            currentPlayer = new YT.Player('youtube-player', {
                height: '100%',
                width: '100%',
                videoId: youtubeId,
                playerVars: {
                    'autoplay': 1,
                    'controls': 1,
                    'modestbranding': 1,
                    'rel': 0,
                    'showinfo': 0,
                    'fs': 1,
                    'iv_load_policy': 3
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
            
            showBackButton();
        }
        
        function onPlayerReady(event) {
            event.target.playVideo(); // Force autoplay
        }
        
        function onPlayerStateChange(event) {
            // YT.PlayerState.ENDED = 0
            if (event.data === 0) {
                // Video ended, return to menu
                closeVideo();
            }
        }
        
        function closeVideo() {
            const container = document.getElementById('videoContainer');
            const player = document.getElementById('videoPlayer');
            
            if (currentPlayer && currentPlayer.destroy) {
                currentPlayer.destroy();
                currentPlayer = null;
            }
            
            container.classList.remove('active');
            player.innerHTML = '';
            document.body.style.overflow = 'hidden';
            clearTimeout(buttonFadeTimer);
        }
        
        document.getElementById('videoContainer').addEventListener('mousemove', function() {
            if (this.classList.contains('active')) {
                showBackButton();
            }
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeVideo();
        });
        
        generateTiles();
    </script>
</body>
</html>
